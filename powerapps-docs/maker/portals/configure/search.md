---
title: Power Apps 포털에서 전역 검색 | MicrosoftDocs
description: 포털에서 전역 검색이 작동하는 방식에 대해 알아봅니다.
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/04/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: 71a06d24e628ddae508af031aa80b8a08b380905
ms.sourcegitcommit: dd2a8a0362a8e1b64a1dac7b9f98d43da8d0bd87
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/02/2019
ms.locfileid: "2866714"
---
# <a name="search"></a>Search

Power Apps 포털에서 포털의 전역 검색 기능을 사용하여 여러 엔터티에 걸쳐 레코드를 검색할 수 있습니다. 엔터티 목록 검색 기능을 사용하여 엔터티 목록의 레코드 내에서 검색할 수도 있습니다. 

포털의 엔터티 목록 검색 기능은 백엔드에서 FetchXML을 사용하여 엔터티 목록에 정의된 열을 검색한 다음 결과를 표시합니다. 

전역 검색은 Lucene.Net을 기반으로 하는 외부 검색 색인을 사용하며 여러 엔터티 및 필드 내에서 한 번에 검색하는 데 사용됩니다.

## <a name="global-search"></a>전역 검색

포털의 전역 검색을 통해 여러 엔터티에서 레코드를 검색할 수 있습니다. 또한 여러 열을 검색하고 엔터티의 검색할 수 있는 열을 구성할 수 있습니다.

전역 검색의 이점 중에는 다음을 수행할 수 있는 기능이 있습니다.
- 엔터티 필드에서 검색어에 포함된 단어와 일치하는 항목을 찾습니다. 일치 항목에는 stream, streaming 또는 streamed 등의 어간 단어가 포함될 수 있습니다.
- 검색 가능한 모든 엔터티에서 일치한 단어의 수 또는 텍스트에서 서로 간의 근접성과 같은 요소에 따라 관련성 기준으로 정렬된 단일 목록으로 결과를 반환합니다.
- 검색 결과에 일치 항목이 강조 표시됩니다.
- 검색 결과를 추가로 필터링하는 데 사용할 수 있는 패싯 옵션을 제공합니다.

전역 검색에서는 일치율이 높을수록 결과에서 높은 위치에 나타납니다. 검색어에 상호 근접성이 높은 단어가 더 많을 경우 일치 항목의 관련성이 높은 것입니다. 검색어가 있는 텍스트의 양이 적을수록 관련성이 높습니다. 예를 들어 회사 이름과 주소에 검색어가 있는 경우 같은 단어가 큰 문서에 서로 멀리 떨어져 있는 경우보다 일치율이 높을 수 있습니다. 결과가 단일 목록으로 반환되기 때문에 레코드가 섞여 연이어 표시될 수 있으며 일치하는 작업은 강조 표시됩니다. 

다음 섹션은 Power Apps 포털에서 전역 검색이 작동하는 방식에 대한 자세한 내용과 사용 가능한 다양한 구성 옵션을 설명합니다.

## <a name="entities-searchable-in-portal-global-search"></a>포털 전역 검색에서 검색 가능한 엔터티

적절한 솔루션 패키지가 설치되고 검색이 포털에 추가된 경우 포털 웹 사이트에서 다음 엔터티를 검색할 수 있습니다. 인덱스된 열은 검색 보기에 있는 열로 구성되며 사용자 지정할 수 있습니다.  목록의 각 엔터티에는 아래와 같이 인덱스된 기본 특성 집합이 있습니다.
- 참조 문서
    - 참조 문서의 메모와 첨부 파일을 검색할 수도 있습니다. 추가 정보: [첨부 파일 콘텐츠 내에서 검색](search-file-attachment.md)
    - 게시된 문서만 검색할 수 있으며 내부 전용 필드는 false로 설정됩니다.
- 블로그 
- 블로그 게시물 
- 블로그 게시물 댓글 
- 포럼 
- 포럼 게시물 
- 포럼 스레드 
- 아이디어 
- 아이디어 코멘트 
- 아이디어 포럼 
- 웹 파일 
    - 웹 파일의 첨부 파일 내용도 검색할 수 있습니다. 추가 정보: [첨부 파일 콘텐츠 내에서 검색](search-file-attachment.md)
- 웹 페이지 
- 문제 

> [!NOTE]
> 여기에 나열된 엔터티 외에 포털에서 전역 검색에 대해 다른 엔터티는 사용할 수 없습니다.

## <a name="fields-searchable-in-global-search"></a>전역 검색에서 검색 가능한 필드

엔터티에 대한 Search/IndexQueryName 사이트 설정으로 정의된 보기에서 사용할 수 있는 모든 필드는 전역 검색에서 인덱스되고 검색 가능합니다. 

Search/IndexQueryName의 기본값은 "포털 검색"입니다.

모든 엔터티에 대해 보기를 사용할 수 없는 경우에는 인덱스되지 않으며 결과는 전역 검색에 표시되지 않습니다.

> [!NOTE]
> Search/IndexQueryName 사이트 설정의 값을 변경하는 경우 [전체 검색 인덱스 다시 작성](#rebuild-full-search-index) 섹션에 정의된 단계를 사용하여 빌드의 수동 색인 재지정을 트리거해야 합니다.

## <a name="related-site-settings"></a>관련된 사이트 설정

다음 사이트 설정은 전역 검색과 관련이 있습니다.

| 이름    | 기본값     | 설명       |
|-----------------------|--------------------|-------------|
| Search/Enabled | True  | 검색이 사용되는지 여부를 나타내는 부울 값입니다. 값을 false로 설정하면 포털에서 전역 검색이 해제됩니다.<br>기본 제공 웹 템플릿을 사용 중이고 이 설정을 해제한 경우 검색 상자는 검색 페이지 뿐만 아니라 머리글에도 표시되지 않습니다. 또한 검색 페이지에 대한 직접 URL이 적중되어도 결과가 반환되지 않습니다.  |
| 검색/필터  | Content:adx_webpage;Events:adx_event,adx_eventschedule;Blogs:adx_blog,adx_blogpost,adx_blogpostcomment;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea,adx_ideacomment;Issues:adx_issueforum,adx_issue,adx_issuecomment;Help Desk:incident | 검색 논리 이름 필터 옵션의 컬렉션입니다. 여기에 값을 정의하면 전역 검색에 드롭다운 필터 옵션이 추가됩니다. 이 값은 이름 및 값을 콜론으로 구분하고 쌍을 세미콜론으로 구분한 이름/값 쌍의 형식이어야 합니다. 예: "Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Blogs:adx_blog,adx_blogpost,adx_blogpostcomment".  |
| Search/IndexQueryName   | 포털 검색  | 인덱싱 및 검색되는 엔터티의 필드를 정의하기 위해 포털 검색 쿼리에서 사용되는 시스템 보기의 이름입니다.   |
| 검색/쿼리  | +(@Query) _title:(@Query) _logicalname:adx_webpage\~0.9^0.2 -_logicalname:adx_webfile\~0.9 adx_partialurl:(@Query) _logicalname:adx_blogpost\~0.9^0.1 -_logicalname:adx_communityforumthread\~0.9   | 이 설정은 사용자가 포털에 표시되는 기본 검색 상자에 입력하는 추가 가중치 및 필터를 쿼리에 추가합니다. 기본값에서 @Query는 사용자가 입력한 쿼리 텍스트입니다.<br>이 값을 수정하는 방법에 대한 자세한 내용은 [Lucene 쿼리 구문](https://lucene.apache.org/core/old_versioned_docs/versions/2_9_1/queryparsersyntax.html)을 따르십시오.<br>**중요**: 이 가중치 및 필터링은 포털의 기본 검색 페이지에 제공되는 검색 상자에만 적용됩니다. 유동적 검색 태그를 사용하여 자신의 검색 페이지를 만드는 경우에는 이 설정이 적용되지 않습니다. |
| Search/Stemmer  | 영어    | 포털 검색의 형태소 분석 알고리즘에서 사용하는 언어입니다.   |
| Search/FacetedView  | True   | 검색 결과에 패싯을 사용할 수 있습니다. True로 설정하면 패싯이 검색 페이지에 결과와 함께 표시됩니다.  |
| Search/IndexNotesAttachments   | True    | 참조 자료 문서 및 웹 파일의 메모 첨부 파일이 인덱싱되어야 하는지 여부를 나타냅니다. 기본적으로는 False로 설정됩니다. 추가 정보: [첨부 파일 콘텐츠 내에서 검색](search-file-attachment.md)    |
| Search/RecordTypeFacetsEntities  | Blogs:adx_blog,adx_blogpost;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea;Downloads:annotation,adx_webfile    | 이렇게 하면 검색 페이지에서 엔터티를 레코드 종류 패싯에 그룹화하는 방법이 결정됩니다. 이 설정의 형식은 다음과 같습니다. <br>“DisplayNameinRecordTypeFacet1:logicalnameofentity1,logicalnameofentity2; DisplayNameinRecordTypeFacet2:logicalnameofentity3,logicalnameofentity4” <br>레코드 종류 패싯의 표시 이름이 UI에 표시됩니다. 이 패싯 그룹은 구성에 정의된 엔터티의 결과를 조합합니다.   |
| KnowledgeManagement/DisplayNotes | True   | 참조 자료 문서의 첨부 파일을 인덱싱할 지 여부를 나타냅니다. 기본적으로는 False로 설정됩니다. |
|||

## <a name="related-content-snippets"></a>관련 콘텐츠 조각

다음 콘텐츠 조각은 전역 검색과 관련이 있습니다.

| 이름   | 기본값  | 설명   |
|------------------|-----------------|--------------------|
| 머리글/검색/레이블| Search| 이 콘텐츠 조각은 포털 헤더의 검색 상자에 표시되는 워터마크 텍스트를 결정합니다.<br>![검색 레이블](../media/search-label.png "검색 레이블")    |
| 머리글/검색/도구 설명| Search  | 이 콘텐츠 조각은 포털 머리글에서 검색 아이콘 위에 마우스를 놓으면 표시되는 도구 설명 텍스트를 결정합니다.<br>![검색 도구 설명](../media/search-tooltip.png "검색 도구 설명")  |
| Search/Default/FilterText| 모두   | 이 콘텐츠 조각은 검색 상자 옆에 있는 필터 드롭다운 목록에 표시되는 기본 텍스트를 결정합니다.<br>![검색 필터 텍스트](../media/search-filter-text.png "검색 필터 텍스트")  |
| 검색/패싯/모두| 모두| 이 콘텐츠 조각은 검색 결과 페이지의 "레코드 종류" 패싯에서 "모든 레코드 패싯"에 대해 표시되는 기본 텍스트를 결정합니다.<br>![모든 패싯](../media/facet-all.png "모든 패싯") |
| Search/Facet/ClearConstraints   | 모두 지우기  | 이 콘텐츠 조각은 검색 결과 페이지에 적용된 모든 패싯을 재설정하는 단추의 레이블을 결정합니다.<br>![모든 패싯 다시 설정](../media/facet-clear-all.png "모든 패싯 다시 설정") |
| Search/Facet/Downloads   | 다운로드   | 이 콘텐츠 조각은 "레코드 종류" 패싯의 주석 첨부 파일 및 웹 파일 레코드의 검색 결과에 표시되는 레이블을 결정합니다.<br>![패싯 다운로드](../media/facet-download.png "패싯 다운로드")|
| 검색/패싯/적게    | 적게 표시  | 이 콘텐츠 조각은 패싯 결과를 축소하는 단추의 레이블을 결정합니다.<br>![패싯 적게 표시](../media/facet-show-less.png "패싯 적게 표시") |
| Search/Facet/ModifiedDate  | 수정한 날짜  | 이 콘텐츠 조각은 수정된 날짜 패싯에 대해 표시되는 머리글의 레이블을 결정합니다.<br>![수정한 날짜](../media/facet-modified-date.png "수정한 날짜 패싯")   |
| 검색/패싯/많이   | 많이 표시  | 이 콘텐츠 조각은 패싯 결과를 확장하는 단추의 레이블을 결정합니다.<br>![추가 패싯 표시](../media/facet-show-more.png "추가 패싯 표시")  |
| 검색/패싯/제품  | 제품 | 이 콘텐츠 조각은 제품 패싯의 레이블을 결정합니다.<br>![제품 패싯](../media/facet-product.png "제품 패싯")  |
| 검색/패싯/등급   | 등급   | 이 콘텐츠 조각은 등급 패싯의 레이블을 결정합니다.<br>![등급 패싯](../media/facet-rating.png "등급 패싯")  |
| Search/Facet/RecordType   | 레코드 종류 | 이 콘텐츠 조각은 레코드 종류 패싯의 레이블을 결정합니다.<br>![레코드 종류 패싯](../media/facet-record-type.png "레코드 종류 패싯")     |
| Search/Facet/SortOrder/AverageUserRating | 평균 사용자 등급 | 이 콘텐츠 조각은 검색 결과 페이지의 정렬 드롭다운 목록에 있는 "평균 사용자 등급에 따라 정렬" 옵션에 표시되는 레이블을 결정합니다.<br>![평균 사용자 등급으로 정렬](../media/sort-avg-user-rating.png "평균 사용자 등급으로 정렬")  |
| Search/Facet/SortOrder/Relevance| 정확도| 이 콘텐츠 조각은 검색 결과 페이지의 정렬 드롭다운 목록에 있는 "관련성 별로 정렬" 옵션에 표시되는 레이블을 결정합니다.<br>![관련성으로 정렬](../media/sort-relevance.png "관련성으로 정렬")|
| Search/Facet/SortOrder/Views| 보기 개수| 이 콘텐츠 조각은 검색 결과 페이지의 정렬 드롭다운 목록에 있는 "보기 횟수 별로 정렬" 옵션에 표시되는 레이블을 결정합니다.<br>![조회수로 정렬](../media/sort-view-count.png "조회수로 정렬")|
|||

## <a name="entity-specific-handling"></a>엔터티 관련 처리

- **서비스 케이스**: 기본적으로 **해결됨** 상태에 있는 서비스 케이스만 검색이 가능하고 **웹에 게시** 필드는 **True**로 설정됩니다. 이 동작은 서비스 케이스 엔터티의 포털 검색 보기를 업데이트하고 포털 검색 보기에서 사용할 수 있는 필터를 제거하여 수정할 수 있습니다. 그러나 이 확인이 제거되면 이 웹 템플릿에서는 모든 사용자가 활성 상태이고 웹에 게시되지 않은 서비스 케이스를 볼 수 없도록 제한하므로 Customer Service - 서비스 케이스 웹 템플릿이 적절하게 수정되었는지 확인하는 것이 중요합니다. 웹 템플릿이 수정되지 않은 경우 검색 결과에 서비스 케이스가 표시됩니다. 그러나 이를 선택하면 권한 거부 오류와 함께 서비스 케이스 세부 정보 웹 페이지가 표시됩니다.

- **참조 자료**: **게시됨** 상태에 있는 참조 자료만 검색이 가능하며 **내부** 필드는 **No**로 설정됩니다. 이 동작은 수정할 수 없습니다. 참조 문서에는 다음과 같은 검색 결과에서 사용할 수 있는 특수 기능도 있습니다.

    - **패싯**: 참조 문서에만 사용할 수 있는 두 가지 특수 패싯이 있으며 검색 결과에서 참조 문서 레코드를 사용할 수 있는 경우 표시 됩니다.

        - **등급 패싯**: 이 패싯을 사용하면 참조 자료의 평균 등급에 따라 검색 결과를 필터링할 수 있습니다.

        - **제품 패싯**: 이 패싯을 사용하면 참조 자료에 여결된 제품에 따라 검색 결과를 필터링할 수 있습니다.

    - **첨부 파일 검색**: 이 기능을 사용하면 참조 문서에 연결된 첨부 파일이나 메모 내에서 검색할 수 있습니다. 이를 통해 메모 설명, 제목, 첨부 파일 이름 및 포털에 노출된 메모나 첨부 파일의 첨부 컨텐트 내에서 검색할 수 있습니다. 추가 정보: [첨부 파일 콘텐츠 내에서 검색](search-file-attachment.md)

## <a name="special-characters-and-syntax-supported-by-search"></a>검색에서 지원하는 특수 문자 및 구문

포털 전역 검색의 일부로 검색 결과를 더 잘 필터링하기 위해 다양한 특수 문자와 구문이 지원됩니다. 이러한 특수 문자와 구문은 대체로 다음과 같은 그룹으로 나뉩니다.

- **용어**: 검색을 위해 사용자가 입력한 모든 쿼리는 용어 및 연산자로 구문 분석됩니다. 용어 종류는 다음과 같습니다. 

    - **단일 용어**: 단일 용어는 단일 단어입니다. 예를 들어 쿼리 {hello world}는 "hello"와 "world" 라는 두 개의 단일 용어로 구문 분석됩니다. 각 단일 용어는 개별적으로 검색됩니다. 따라서 쿼리 {hello world}에서 "hello" 또는 "world" 라는 용어가 있는 모든 레코드가 검색 결과에 표시됩니다.

    - **구문**: 구문은 큰따옴표("")로 둘러싸인 용어 그룹입니다. 예를 들어, 쿼리 {“hello world”}는 "hello world" 구문으로 구문 분석됩니다. 각 구문은 전체로 검색됩니다. 따라서 쿼리 {“hello world”}에서 전체 구문 "hello world"가 있는 모든 레코드가 검색 결과에 표시되고 "hello" 또는 "world"만 있는 레코드는 표시되지 않습니다.

    각 검색 쿼리는 복잡한 쿼리를 만들기 위해 부울 연산자를 사용하여 결합된 모든 유형의 이러한 조건 중 하나 또는 여러 개를 포함할 수 있습니다.

- **용어 한정자**

    - **와일드카드 검색**: 단일 문자 와일드카드 검색 및 다중 문자 와일드카드 검색이라는 단일 용어 검색 쿼리(구문 쿼리가 아님) 내에서 사용할 수 있는 두 가지 유형의 와일드카드가 있습니다.

        - **단일 문자 와일드카드 검색**: 단일 문자 와일드카드 검색을 수행하려면 물음표(?) 기호를 사용합니다. 단일 문자 와일드카드 검색은 대체된 단일 문자와 일치하는 용어를 찾습니다. 예를 들어 "text" 또는 "test"를 검색하려면 검색 쿼리를 "te?t"로 사용할 수 있습니다.

        - **여러 문자 와일드카드 검색**: 여러 문자 와일드카드 검색을 수행하려면 별표(\*) 기호를 사용합니다. 여러 문자 와일드카드 검색은 0개 이상의 문자를 찾습니다. 예를 들어, test, tests 또는 tester를 검색하려면 검색 쿼리를 "test *"로 사용할 수 있습니다. 쿼리 중간에 여러 문자 와일드카드 검색을 사용할 수도 있습니다. 예를 들어, "te*t"입니다.

        > [!NOTE]
        > - 검색의 첫 번째 문자로 * 또는 ? 기호는 사용할 수 없습니다.
        > - 구문 쿼리에는 와일드카드 검색을 사용할 수 없습니다. 예를 들어 쿼리를 “hell* world”로 사용하는 경우 "hello world" 텍스트가 있는 결과를 표시하지 않습니다.

    - **근접 검색**: 근접 검색을 사용하면 서로 특정 거리 내에 있는 단어를 검색할 수 있습니다. 예를 들어, "Picture"와 "blurry"라는 단어가 서로의 10 단어 내에 나타나는 결과를 찾으려면 근접 검색을 사용할 수 있습니다.
    
        근접 검색을 수행하려면 쿼리 끝에 물결표(~) 기호를 사용합니다. 예를 들어, "Picture"와 "blurry"라는 단어가 서로의 10 단어 내에 나타나는 결과를 찾으려면 쿼리는 “Picture blurry”~10이 될 것입니다.

    - **용어 부스팅**: 전역 검색은 검색된 용어에 따라 일치하는 문서의 관련성 수준을 제공합니다. 용어를 부스팅하려면 검색 중인 용어의 끝에서 부스트 계수(숫자)가 있는 캐럿(^) 기호를 사용합니다. 부스트 계수가 높을수록 더 관련성이 높은 용어가 됩니다.

        부스팅을 사용하면 용어를 증폭하여 문서의 관련성을 제어할 수 있습니다. 예를 들어 Smart TV를 검색하는 경우 Smart라는 용어를 더 관련성 있게 만들려면 용어 옆의 부스트 계수와 함께 ^ 기호를 사용하여 이를 부스트합니다. 다음을 입력합니다. Smart^4 TV. 이렇게 하면 Smart라는 용어가 포함된 문서가 더 관련성이 있는 것처럼 보이게 됩니다.

        Smart TV^4 New TV와 같이 구문 용어를 부스트할 수도 있습니다. 이 경우 "Smart TV" 구문이 "New TV"에 비해 부스트됩니다.

        부스트 계수는 기본적으로 1입니다. 부스트 계수는 양수여야 하지만 1보다 작을 수 있습니다(예: 0.2).

- **부울 연산자**: 부울 연산자를 사용하면 논리 연산자를 통해 용어를 결합할 수 있습니다. 전역 검색은 부울 연산자로 OR, AND, NOT, "+", "-" 를 지원합니다.

    > [!NOTE]
    > 부울 연산자는 대문자로 작성해야 합니다.

    - **OR**: OR 연산자는 기본 결합 연산자입니다. 즉, 두 용어 사이에 부울 연산자가 없으면 OR 연산자가 사용됩니다. OR 연산자는 두 용어를 연결하고 해당 용어 중 하나가 레코드에 있을 경우 일치하는 레코드를 찾습니다. 이는 집합을 사용하는 합집합과 동일합니다. 기호 ||를 단어 OR 대신 사용할 수 있습니다. 예를 들어, "Smart TV"(따옴표 제외) 검색 쿼리는 Smart 또는 TV라는 단어가 있는 모든 레코드를 검색합니다. 이 쿼리는 "Smart OR TV", “Smart || TV”로 작성할 수도 있습니다.

    - **AND:** AND 연산자는 두 용어가 단일 문서의 텍스트 어디에나 존재하는 레코드를 찾습니다. 이는 집합을 사용하는 교집합과 동일합니다. 기호 &&를 단어 AND 대신 사용할 수 있습니다. 예를 들어, "Smart AND TV"(따옴표 제외) 검색 쿼리는 Smart 또는 TV라는 단어가 있는 모든 레코드를 검색합니다. 이 쿼리는 “Smart && TV”로 작성할 수도 있습니다.

    - **NOT**: NOT 연산자는 NOT 이후의 용어가 포함된 레코드를 제외합니다. 이는 집합을 사용하는 차집합과 동일합니다. 기호 !를 단어 NOT 대신 사용할 수 있습니다. 예를 들어, "Smart NOT TV"(따옴표 제외) 검색 쿼리는 단어 Smart는 있지만 TV라는 단어가 없는 모든 레코드를 검색합니다. 이 쿼리는 “Smart ! TV”로 작성할 수도 있습니다.

    - **더하기(+) 기호**: 더하기(+) 기호(필수 연산자라고도 함)는 "+" 기호 뒤의 용어가 레코드 어딘가에 존재해야 합니다. 예를 들어 검색 쿼리 “Smart + TV”는 단어 TV가 반드시 있어야 하고 단어 Smart도 있을 수 있는 모든 레코드를 검색합니다. 

    - **빼기(–) 기호**: 빼기(-) 기호(금지 연산자라고도 함)는 "-" 기호 뒤의 용어가 포함된 문서를 제외합니다. 예를 들어 검색 쿼리 “Smart - TV”는 단어 Smart가 있고 단어 TV는 없어야 하는 모든 레코드를 검색합니다.

- **그룹화**: 포털 전역 검색은 괄호를 사용하여 절을 그룹화하여 하위 쿼리를 형성하도록 지원합니다. 이는 쿼리에 대한 부울 논리를 제어하려는 경우에 매우 유용할 수 있습니다. 예를 들어, "HD" 또는 "Smart"라는 용어 중 하나가 존재하지만 단어 TV가 항상 존재하는 모든 레코드를 검색하려면 쿼리를 “(HD or Smart) AND TV”(따옴표 제외)로 작성할 수 있습니다.

## <a name="liquid-search-tag"></a>유동적 검색 태그

searchindex 태그를 사용하여 유동적 템플릿에서 포털 전역 검색을 호출할 수 있습니다. 추가 정보: [searchindex](../liquid/portals-entity-tags.md#searchindex)

> [!IMPORTANT]
> searchindex 태그를 사용하면 패싯이 결과의 일부로 반환되지 않으며 필터로 적용될 수도 없습니다.

## <a name="update-search-index"></a>검색 색인 업데이트

Power Apps 포털의 검색 색인 업데이트는 캐시 무효화와 같이 자동으로 수행됩니다. 고려해야 할 몇 가지 중요한 사항:

- 모든 검색 사용 엔터티는 변경 알림 메타데이터 플래그를 사용하도록 설정해야 하며, 그렇지 않으면 변경 내용이 포털에 알려지지 않고 검색 색인이 업데이트되지 않습니다.

- 변경 내용이 포털 검색에 반영되려면 최대 30분이 소요될 수 있습니다. 그러나 변경 내용의 95%는 15분 이내에 업데이트됩니다. 첨부 파일의 경우 첨부 파일의 크기에 따라 더 오래 걸릴 수 있습니다.

- 대량 데이터 마이그레이션을 수행하거나 짧은 기간 동안 레코드에 대한 대량 업데이트를 수행한 후에 전체 색인을 수동으로 다시 작성하는 것이 좋습니다. 자세한 내용은 [전체 검색 색인 다시 작성](#rebuild-full-search-index)을 참조하십시오.

## <a name="rebuild-full-search-index"></a>전체 검색 색인 다시 작성

전체 검색 색인 다시 작성은 다음과 같은 경우 언제든지 필요합니다.

- 특정 쿼리 특정 사이트 설정을 변경하거나 엔터티의 검색 보기를 변경하는 등의 검색 속성에 메타데이터를 변경합니다.
- 대량 데이터 마이그레이션 또는 업데이트가 수행됩니다.
- 포털에 연결된 웹 사이트 레코드는 Common Data Service 환경에서 변경됩니다.

포털에서 전체 검색 색인을 다시 작성할 수도 있습니다.
1.  포털에 관리자로서 로그인합니다.
2.  URL `<portal_path>/_services/about`로 이동합니다.
3.  **검색 색인 다시 작성**을 선택합니다.

> [!IMPORTANT]
> 전체 색인 다시 작성은 매우 비용이 많이 드는 작업이며 사용량이 가장 많은 시간에 포털이 다운될 수 있으므로 수행하지 않아야 합니다.

## <a name="remove-an-entity-from-global-search"></a>전역 검색에서 엔터티 제거

때로는 고객이 올바른 결과를 신속하게 얻으려면 포털 전역 검색에서 특정 엔터티를 완전히 제거해야 할 수 있습니다.

다음 예제에서는 포털 전역 검색에서 서비스 케이스 엔터티를 제거합니다.

### <a name="step-1-block-case-entity-from-getting-indexed"></a>1단계: 서비스 케이스 엔터티가 인덱스되지 않도록 차단

서비스 케이스 엔터티가 인덱스되지 않도록 차단하려면 포털에서 인덱스할 레코드 집합을 정의하는 서비스 케이스 엔터티의 보기 이름을 바꿔야 합니다(Search/IndexQueryName 사이트 설정으로 정의됨). 기본적으로 해당 보기의 이름은 포털 검색입니다.

1.  [포털 관리 앱](configure-portal.md)을 엽니다.

2.  페이지 오른쪽 상단의 도구 모음에서 **설정** 아이콘을 선택한 다음 **고급 설정**을 선택합니다.

2.  **설정** > **사용자 지정** > **시스템 사용자 지정**으로 이동합니다.

    ![시스템 사용자 지정](../media/customize-system.png "시스템 사용자 지정")

3.  사용자 지정 대화 상자의 왼쪽 탐색 창에서 **구성 요소** > **엔터티** > **서비스 케이스**로 이동합니다. 

4.  **서비스 케이스** 엔터티를 확장하고 **보기**를 선택합니다.

5.  목록에서 **포털 검색** 보기를 선택하고 보기 편집기에서 엽니다.

    ![서비스 케이스 보기](../media/case-view.png "서비스 케이스 보기")

6.  보기 편집기에서 **속성 보기**를 선택합니다.

    ![보기 편집기](../media/view-editor.png "보기 편집기")

7.  요구 사항에 따라 보기의 이름을 바꿉니다. 새 이름에 "포털 검색" 용어가 없는지 확인합니다.

    ![속성 보기](../media/view-properties.png "속성 보기")

8.  변경 내용을 저장하고 보기 편집기를 닫습니다.

9.  **모든 사용자 지정 항목 게시**를 선택합니다.

10. [전체 검색 색인 다시 작성](#rebuild-full-search-index) 섹션에 설명된 대로 전체 색인을 다시 작성합니다.

> [!NOTE]
> 이 예제에서는 보기를 직접 편집하여 관리되지 않는 레이어에서 변경을 수행하고 있습니다. 관리형 솔루션을 통해서도 이 작업을 할 수 있습니다.

### <a name="step-2-remove-case-entity-from-the-ui"></a>2단계: UI에서 서비스 케이스 엔터티 제거

1단계에서 설명한 작업을 수행한 후에는 서비스 케이스 엔터티가 인덱스되지 않도록 중지됩니다. UI 표시 영역에서 서비스 케이스 엔터티를 제거하려면 포털 전역 검색과 관련된 사이트 설정을 수정해야 합니다. 다음 사이트 설정을 수정해야 합니다.

검색/필터: 검색 페이지 및 사이트 헤더의 검색 상자에서 필터로부터 서비스 케이스 엔터티를 제거합니다. 기본값은 값은 `Content:adx_webpage,adx_webfile;Blogs:adx_blog,adx_blogpost;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea;Help Desk:incident;Knowledge:knowledgearticle`입니다.

UI의 검색 상자 옆에 있는 필터에서 인시던트 엔터티가 제거되도록 이 사이트 설정의 값에서 `Help Desk:incident;`를 삭제해야 합니다.

수정된 값은 다음과 같습니다.

`Content:adx_webpage,adx_webfile;Blogs:adx_blog,adx_blogpost;Forums:adx_communityforum,adx_communityforumthread,adx_communityforumpost;Ideas:adx_ideaforum,adx_idea;Knowledge:knowledgearticle`

이 사이트 설정이 변경되면 검색 페이지 및 헤더에서 필터로부터 서비스 케이스 엔터티가 제거됩니다.

![페이지에서 검색](../media/search-on-page.png "페이지에서 검색")

![머리글에서 검색](../media/search-in-header.png "머리글에서 검색")
