---
title: 엔터티 관계 동작(Common Data Service for Apps) | Microsoft Docs
description: <Description>
ms.custom: ''
ms.date: 08/01/2018
ms.reviewer: ''
ms.service: powerapps
ms.topic: article
author: Mattp123
ms.author: matp
manager: kvivek
---
# <a name="entity-relationship-behavior"></a>엔터티 관계 동작

관련 엔터티 동작은 데이터 무결성을 보장하고 회사의 비즈니스 프로세스를 자동화할 수 있도록 하기 때문에 중요합니다.

## <a name="preserve-data-integrity"></a>데이터 무결성 유지

일부 엔터티는 다른 엔터티를 지원하기 위해 존재합니다. 자체로는 의미가 없습니다. 일반적으로 지원되는 기본 엔터티에 연결하는 데 필요한 조회 필드가 있습니다. 기본 레코드를 삭제할 때 어떻게 해야 합니까?

관계 동작을 사용하여 비즈니스 규칙에 따라 이를 정의할 수 있습니다. 두 가지 옵션은 다음과 같습니다.

- 관련 엔터티 레코드를 다른 기본 엔터티와 연결하여 조정할 수 있도록 기본 엔터티를 삭제하지 않도록 합니다.
- 기본 엔터티 레코드를 삭제하여 관련 엔터티가 자동으로 삭제되도록 허용합니다.

관련 엔터티가 기본 엔터티를 지원하지 않는 경우 기본 엔터티를 삭제하고 조회 값을 지울 수 있도록 허용합니다.

## <a name="automate-business-processes"></a>비즈니스 프로세스 자동화
  
새로운 영업 직원이 있고 현재 다른 영업 직원에게 할당된 기존 거래처 중 일부를 할당하려고 합니다. 각 거래처 레코드에는 연결된 작업 활동이 많이 있습니다. 다시 할당하려는 활성 거래처를 쉽게 찾아 새로운 영업 직원에게 할당할 수 있습니다. 그러나 거래처와 관련된 작업 활동에 무엇을 수행해야 할까요? 각 작업을 열고 새로운 판매 직원에게 할당할지 여부를 결정하시겠습니까? 아마도 힘들겠죠? 대신 관계에 일부 표준 규칙을 자동으로 적용하도록 할 수 있습니다. 이러한 규칙은 다시 할당할 거래처와 연관된 작업 레코드에만 적용됩니다. 옵션은 다음과 같습니다.  
  
- 모든 활성 작업을 다시 할당합니다.  
- 모든 작업을 다시 할당합니다. 
- 작업을 다시 할당하지 않습니다.  
- 거래처의 이전 담당자에게 현재 할당된 모든 작업을 다시 할당합니다.  
  
관계는 기본 엔터티 레코드에 대해 레코드에서 수행되는 작업이 관련 엔터티 레코드로 아래로 연속 변경되는 방법을 제어할 수 있습니다.  

## <a name="behaviors"></a>동작

특정 동작이 발생할 때 적용할 수 있는 여러 종류의 동작이 있습니다.

|동작|설명|
|--|--|
|**활성 항목 연속 변경**|모든 활성 관련 엔터티 레코드에 대해 작업을 수행합니다.|
|**모두 연속 변경**|모든 관련 엔터티 레코드에 대해 작업을 수행합니다.|
|**연속 변경 없음**|아무 작업도 수행하지 않습니다.|
|**연결 제거**|모든 관련 레코드의 조회 값을 제거합니다.|
|**제한**|관련 엔터티 레코드가 있을 때 기본 엔터티 레코드가 삭제되지 않도록 합니다.|
|**담당 항목 연속 변경**|기본 엔터티 레코드와 동일한 사용자가 담당하는 모든 관련 엔터티 레코드에 대해 작업을 수행합니다.|

## <a name="actions"></a>작업

다음은 특정 동작을 트리거할 수 있는 작업입니다.

|필드|설명|옵션|
|--|--|--|
|**할당**|기본 엔터티 레코드가 다른 사람에게 할당될 때 어떻게 해야 합니까?|모두 연속 변경<br />활성 항목 연속 변경<br />담당 항목 연속 변경<br />연속 변경 없음|
|**상위 항목 재지정**|상위/하위 관계의 관련 엔터티에 대한 상위/하위 유형 관계에 대한 조회 값이 변경될 때 어떻게 해야 합니까?<br />자세한 내용: [상위/하위 엔터티 관계](#parental-entity-relationships)|모두 연속 변경<br />활성 항목 연속 변경<br />담당 항목 연속 변경<br />연속 변경 없음|
|**공유**|기본 엔터티 레코드를 공유할 때 어떻게 해야 합니까?|모두 연속 변경<br />활성 항목 연속 변경<br />담당 항목 연속 변경<br />연속 변경 없음|
|**삭제**|기본 엔터티 레코드를 삭제할 때 어떻게 해야 합니까?|모두 연속 변경<br />연결 제거<br />제한|
|**공유 해제**|기본 엔터티 레코드를 공유하지 않을 때 어떻게 해야 합니까?|모두 연속 변경<br />활성 항목 연속 변경<br />담당 항목 연속 변경<br />연속 변경 없음|
|**병합**|기본 엔터티 레코드를 병합할 때 어떻게 해야 합니까?|모두 연속 변경<br />연속 변경 없음|
|**롤업 보기**|이 관계와 관련된 롤업 보기의 원하는 동작은 무엇입니까? |모두 연속 변경<br />활성 항목 연속 변경<br />담당 항목 연속 변경<br />연속 변경 없음|


## <a name="parental-entity-relationships"></a>상위/하위 엔터티 관계

1:N 관계를 가질 수 있는 엔터티의 각 쌍에는 엔터티 간 1:N 관계를 여러 개 가질 수 있습니다. 하지만 일반적으로 아직 이러한 관계 중 하나만 상위/하위 엔터티 관계로 간주할 수 있습니다.

상위/하위 엔터티 관계는 다음 표에서 **상위/하위** 열의 연속 변경 옵션 중 하나가 true이면 1:N 엔터티 관계입니다.

|작업|상위/하위|상위/하위 아님|  
|------------|--------------|------------------|  
|**할당**|모두 연속 변경<br />담당 항목 연속 변경<br />활성 항목 연속 변경|연속 변경 없음|  
|**삭제**|모두 연속 변경|RemoveLink<br />제한|  
|**상위 항목 재지정**|모두 연속 변경<br />담당 항목 연속 변경<br />활성 항목 연속 변경|연속 변경 없음|  
|**공유**|모두 연속 변경<br />담당 항목 연속 변경<br />활성 항목 연속 변경|연속 변경 없음|  
|**공유 해제**|모두 연속 변경<br />담당 항목 연속 변경<br />활성 항목 연속 변경|연속 변경 없음|  

예를 들어 새 사용자 지정 엔터티를 만들고 1:N 엔터티 관계를 사용자 지정 엔터티가 관련 엔터티인 거래처 엔터티에 연결하면 **상위/하위** 열에서 옵션을 사용하도록 해당 엔터티 관계에 대한 작업을 구성할 수 있습니다. 나중에 다른 1:N 엔터티 관계를 참조하는 엔터티로 사용자 지정 엔터티에 추가하면 **상위/하위 아님** 열의 옵션을 사용하는 작업을 구성할 수 있습니다.

일반적으로 각 엔터티 쌍에 대해 상위/하위 관계는 하나씩만 있습니다. 관련된 엔터티의 조회에 둘 이상의 엔터티 유형에 대한 관계가 허용될 수도 있습니다.

예를 들어 엔터티에 연락처 또는 거래처 엔터티를 참조할 수 있는 고객 조회가 있는 경우입니다. 두 가지 별도의 상위/하위 1:N 엔터티 관계가 있습니다.

모든 활동 엔터티에는 관련 조회 필드를 사용하여 연결할 수 있는 엔터티에 대해 유사한 상위/하위 엔터티 관계 집합이 있습니다.

<a name="BKMK_RelationshipBehaviorLimitations"></a>   

## <a name="limitations-on-behaviors-you-can-set"></a>설정할 수 있는 동작에 대한 제한
  
상위/하위 관계로 인해 엔터티 관계를 정의할 때 유의해야 할 몇 가지 제한이 있습니다.  
  
- 사용자 지정 엔터티는 연속되는 관련 시스템 엔터티와의 관계에서 기본 엔터티가 될 수 없습니다. 다시 말해, 기본 사용자 지정 엔터티와 관련 시스템 엔터티 간에 **모두 연속 변경**, **활성 항목 연속 변경** 또는 **담당 항목 연속 변경**으로 설정된 작업이 있는 관계를 사용할 수 없습니다.  
- 새 관계의 관련 엔터티가 이미 **모두 연속 변경**, **활성 항목 연속 변경** 또는 **담당 항목 연속 변경**으로 설정된 작업이 있는 다른 관계의 관련 엔터티로 구성되어 있으면 새 관계의 작업을 **모두 연속 변경**, **활성 항목 연속 변경** 또는 **담당 항목 연속 변경**으로 설정할 수 없습니다. 이는 관계에 여러 상위 관계를 만들지 못하도록 하기 위해서입니다.  
