---
title: 포털에 대 한 엔터티 권한을 사용 하 여 레코드 기반 보안 추가 | MicrosoftDocs
description: 엔터티 권한을 추가 하 고 웹 역할을 할당 하는 지침을 설명 합니다.
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/04/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: 47730a2ba169b89534fa93221290c5598a95a8e8
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/04/2019
ms.locfileid: "73553397"
---
# <a name="add-record-based-security-by-using-entity-permissions-for-portals"></a>포털에 대 한 엔터티 권한을 사용 하 여 레코드 기반 보안 추가

포털에서 개별 레코드에 레코드 기반 보안을 적용 하려면 엔터티 권한을 사용 합니다. 엔터티 권한을 사용 하 여 도입 된 레코드 소유권과 액세스의 권한 및 개념에 논리적으로 해당 하는 조직에서 역할을 정의할 수 있도록 웹 역할에 엔터티 권한을 추가 합니다. 지정 된 연락처는 원하는 수의 역할에 속할 수 있으며, 지정 된 역할은 원하는 수의 엔터티 권한을 포함할 수 있습니다. [포털에 대 한 웹 역할 [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] 만들기](create-web-roles.md) 

콘텐츠 권한 부여를 통해 포털 사이트 맵의 Url을 변경 하 고 액세스할 수 있는 권한이 부여 되지만 사이트 관리자는 엔터티 양식 및 엔터티 목록을 사용 하 여 빌드된 사용자 지정 웹 응용 프로그램의 보안도 유지 하려고 합니다. [엔터티 양식 정의](entity-forms.md) 및 [엔터티 목록 정의](entity-lists.md) [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)]  

이러한 기능을 보호 하기 위해 엔터티 권한을 통해 임의 엔터티에 대해 세부적인 권한을 부여 하 고, 관계 정의를 통해 레코드 수준 보안을 사용 하도록 설정할 수 있습니다.

## <a name="add-entity-permissions-to-a-web-role"></a>웹 역할에 엔터티 권한 추가

1.  [포털 관리 앱](configure-portal.md)을 엽니다.

2. **포털** &gt; **웹 역할** 로 이동 하 여 사용 권한을 추가 하려는 웹 역할을 엽니다. 

3. **추가** 를 선택 하 여 기존 엔터티 권한을 웹 역할에 추가 합니다. 

4. 새로 **만들기를 선택 하** 여 새 엔터티 권한 레코드를 만듭니다.

    ![웹 역할에 엔터티 권한 추가](../media/add-entity-permission-web-role.png "웹 역할에 엔터티 권한 추가")  

새 엔터티 권한 레코드를 만들 때 첫 번째 단계는 보안을 설정할 엔터티를 결정 하는 것입니다. 다음 단계는 아래에서 설명 하는 범위를 정의 하 고 전역&mdash;이외의 모든 범위에 대 한&mdash;해당 범위를 정의 하는 관계를 정의 하는 것입니다. 마지막으로이 사용 권한을 통해 역할에 부여 되는 권한을 결정 합니다. 권한은 누적 되므로 사용자가 읽기를 허용 하는 역할에 있고 읽기 및 업데이트를 허용 하는 다른 역할에 있는 경우 사용자는 두 역할 간에 겹치는 모든 레코드에 대해 읽기 및 업데이트 권한을 갖게 됩니다.

> [!Note]
> 웹 페이지 및 웹 파일과 같은 CMS 엔터티를 선택 하는 것은 유효 하지 않으며 다른 의도 하지 않은 결과가 발생할 수 있습니다. 포털에서는 엔터티 권한이 아닌 콘텐츠 액세스 제어에 따라 CMS 엔터티의 보안을 어설션 합니다.

### <a name="global-scope"></a>전역 범위

읽기 권한이 있는 엔터티 권한 레코드가 전역 범위가 있는 역할에 부여 된 경우 해당 역할의 모든 연락처는 정의 된 엔터티의 모든 레코드에 액세스할 수 있습니다. 예를 들어 모든 잠재 고객, 모든 계정 등을 볼 수 있습니다. 이 권한은 기본적으로 해당 목록에 대해 정의 된 모델 기반 앱 뷰에 따라 모든 레코드를 표시 하는 모든 엔터티 목록에서 적용 됩니다. 또한 사용자가 액세스 권한이 없는 엔터티 양식을 통해 레코드에 액세스 하려고 하면 권한 오류가 수신 됩니다.

### <a name="contact-scope"></a>연락처 범위

연락처 범위를 사용 하면 권한 레코드가 정의 된 역할의 로그인 한 사용자에 게 정의 된 관계를 통해 해당 사용자의 연락처 레코드와 관련 된 레코드에 대 한 권한만 부여 됩니다.

즉, 엔터티 목록에서 필터는 해당 목록에 표시 되는 모든 모델 기반 앱 뷰에 추가 되며,이는 현재 사용자에 게 직접 연결 된 레코드만 검색 합니다. 시나리오에 따라이 관계는 소유권 또는 관리 권한으로 간주할 수 있습니다.

엔터티 형식은 레코드가 로드 될 때이 관계가 존재 하는 경우에만 읽기, 만들기 및 쓰기에 대 한 적절 한 권한을 허용 합니다. [포털 내에서 엔터티 양식 및 사용자 지정 논리를 정의](entity-forms.md)[!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)].  

### <a name="account-scope"></a>계정 범위

계정 범위를 사용 하는 경우 권한 레코드를 정의한 역할의 로그인 한 사용자에 게는 정의 된 관계를 통해 해당 사용자의 부모 계정 레코드와 관련 된 레코드에 대해서만 권한이 부여 됩니다.

### <a name="self-scope"></a>자체 범위

자체 범위를 사용 하면 사용자가 자신의 연락처 (Id) 레코드에 대 한 권한을 정의할 수 있습니다. 이렇게 하면 사용자가 엔터티 양식 또는 web forms를 사용 하 여 프로필에 연결 된 자신의 연락처 레코드를 변경할 수 있습니다. 기본 프로필 페이지에는 모든 사용자가 기본 연락처 정보를 변경 하 고 마케팅 목록을 옵트인 또는 옵트아웃 (opt in) 할 수 있는 특별 한 기본 제공 양식이 있습니다. 이 양식이 포털에 포함 된 경우 (기본적으로) 사용자는이를 사용 하는 데이 권한이 필요 하지 않습니다. 그러나 사용자의 사용자 연락처 레코드를 대상으로 하는 사용자 지정 엔터티 양식 또는 web forms를 사용 하려면이 권한이 필요 합니다.

### <a name="parental-scope"></a>보호자 범위

이 가장 복잡 한 경우에는 엔터티 권한 레코드가 이미 정의 된 엔터티에서의 관계인 엔터티에 대 한 사용 권한이 부여 됩니다. 이 권한은 실제로 부모 엔터티 권한의 자식 레코드입니다.

부모 권한 레코드는 엔터티에 대 한 사용 권한 및 범위를 정의 합니다 (부모도 가능 하지만 전역 또는 연락처 범위). 이 엔터티는 연락처 범위의 경우 연락처와 관련 되거나 전역적으로 정의 될 수 있습니다. 해당 권한이 있는 경우 다른 엔터티에서 부모 관계에 정의 된 엔터티에 대 한 관계를 정의 하는 자식 권한이 만들어집니다.

따라서 부모 엔터티 권한으로 정의 된 레코드에 대 한 액세스 권한이 있는 웹 역할의 사용자에 게는 부모 레코드와 관련 된 레코드에 대 한 자식 권한 레코드에 정의 된 권한도 있습니다.

### <a name="attributes-and-relationships"></a>특성 및 관계

아래 표에서는 엔터티 권한 특성에 대해 설명 합니다.

| 이름                     | 설명                                                                                                                                                                                                                                                                                                               |
|--------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 이름                     | 레코드에 대 한 설명이 포함 된 이름입니다. 이 필드는 필수입니다.                                                                                                                                                                                                                                                               |
| 엔터티 이름              | 보호할 엔터티의 논리적 이름 이거나, 하위 권한에서 관련 엔터티를 보호 하기 위해 연락처 관계 또는 부모 관계를 정의 하는 것입니다. 이 필드는 필수입니다.                                                                                                                        |
| 범위 (필수)                   | <ul><li>**Global**: 소유자 (연락처)를 요구 하지 않고 엔터티 레코드에 대 한 권한을 부여 합니다.</li><li>**연락처**: 소유자 (연락처)와 직접 관계에 있는 엔터티 레코드에 대 한 권한을 부여 합니다.</li><li>**계정**: 계정에 대 한 관계를 가진 엔터티 레코드에 대 한 권한을 부여 합니다 .이는 계정이 연락처의 상위 고객 이라고 가정 하 여 소유자 역할을 합니다.</li><li>**부모**: 부모 권한 관계의 체인을 통해 엔터티 레코드에 대 한 권한을 부여 합니다.</li></ul>|
| 연락처 관계     | Scope = Contact 인 경우에만 필요 합니다. 엔터티와 엔터티 이름 필드에 지정 된 엔터티 간의 관계에 대 한 스키마 이름입니다.|
| 부모 관계      | 부모 엔터티 권한이 할당 된 경우에만 필요 합니다. 엔터티 이름 필드에 지정 된 엔터티와 해당 부모 엔터티 권한 레코드에서 엔터티 이름 필드로 지정 된 엔터티 간의 관계에 대 한 스키마 이름입니다.                                                                                     |
| 부모 엔터티 권한 | Scope = Parent 인 경우에만 필요 합니다.                                                                                                                                                                                                                                                            |
| 읽음                     | 사용자가 레코드를 읽을 수 있는지 여부를 제어 하는 권한입니다.                                                                                                                                                                                                                                                               |
| 기록                    | 사용자가 레코드를 업데이트할 수 있는지 여부를 제어 하는 권한입니다.                                                                                                                                                                                                                                                             |
| 만드십시오                   | 사용자가 새 레코드를 만들 수 있는지 여부를 제어 하는 권한입니다. 엔터티 형식에 대 한 레코드를 만들 수 있는 권한은 개별 레코드에는 적용 되지 않고 엔터티의 클래스에는 적용 되지 않습니다.                                                                                                                             |
| 삭제                   | 사용자가 레코드를 삭제할 수 있는지 여부를 제어 하는 권한입니다.                                                                                                                                                                                                                                                             |
| 추가할                   | 사용자가 지정 된 레코드에 다른 레코드를 연결할 수 있는지 여부를 제어 하는 권한입니다. 액세스 권한에 대 한 추가 및 추가가 함께 작동 합니다. 사용자가 한 레코드를 다른 레코드에 연결할 때마다 사용자에 게 두 가지 권한이 모두 있어야 합니다. 예를 들어 사례에 대 한 메모를 첨부 하는 경우에는 메모에 대 한 추가 액세스 권한을 보유 하 고 작업이 작동 하는 경우에 대 한 추가 액세스 권한이 있어야 합니다.  |
| 추가 대상                | 사용자가 질문의 레코드를 다른 레코드에 추가할 수 있는지 여부를 제어 하는 권한입니다. 액세스 권한에 대 한 추가 및 추가가 함께 작동 합니다. 자세한 내용은 Append에 대 한 설명을 참조 하세요.|
| | |

## <a name="global-permissions-for-tasks-related-to-leads"></a>잠재 고객과 관련 된 작업에 대 한 전역 권한

한 시나리오에서는 엔터티 목록과 엔터티 형식을 사용 하 여 포털의 모든 잠재 고객을 사용자 지정 리드 관리자 웹 역할의 모든 사람에 게 표시할 수 있습니다. 목록에서 잠재 고객 행이 선택 될 때마다 시작 되는 리드 편집 폼에서 subgrid는 관련 태스크 레코드를 표시 합니다. 이러한 레코드는 리더 관리자 역할의 모든 사용자가 액세스할 수 있어야 합니다. 첫 번째 단계로, 수석 관리자 역할의 모든 사용자에 게 전달 되는 전역 권한을 부여 합니다.

이 역할에는 전역 범위를 포함 하는 잠재 고객 엔터티에 대 한 관련 엔터티 권한이 있습니다.

이 역할의 사용자는 포털의 엔터티 목록 또는 양식을 통해 모든 잠재 고객에 액세스할 수 있습니다.

![잠재 고객에 게 전역 사용 권한 부여](../media/grant-global-permission-leads.png "잠재 고객에 게 전역 사용 권한 부여")  

이제 전역 리드 권한에 자식 권한을 추가 합니다. 부모 권한 레코드가 열려 있는 상태에서 **자식 엔터티 권한** subgrid로 이동 하 고 **새로 만들기** 를 선택 하 여 엔터티 권한 조회를 열고 돋보기를 선택한 다음 **새로 만들기** 를 선택 하 여 새 레코드를 추가 합니다.

![웹 역할에 엔터티 권한 추가](../media/add-entity-permission-web-role.png "웹 역할에 엔터티 권한 추가")  

작업으로 엔터티를 선택 하 고 범위를 자녀 보호로 선택 합니다. 그러면 부모 관계 (**리드\_작업**)를 선택할 수 있습니다. 이 사용 권한은 부모 권한이 있는 웹 역할에 있는 연락처가 잠재 고객과 관련 된 모든 작업에 대 한 전역 권한을 갖게 된다는 것을 의미 합니다.

목록에서 이러한 사용 권한을 적용 하려면 목록에 대해 엔터티 사용 권한을 설정 하 고 사용자가 사용 권한을 부여 받은 작업을 실제로 수행할 수 있도록 허용 하는 작업이 있어야 합니다. 또한 [엔터티 양식](entity-forms.md) 레코드에서 사용 권한도 사용 하도록 설정 해야 하며,이 경우 자식 권한 (이 경우 작업)을 사용 하도록 설정할 엔터티에 대해 subgrid이 있는 페이지를 표시 해야 합니다. 또한 태스크에 대 한 읽기 또는 만들기 권한을 설정 하려면 해당 엔터티 양식도 구성 하 고 해당 양식을 편집 하 여 관련 조회 필드를 제거 해야 합니다.  

![웹 페이지 양식 편집](../media/edit-webpage-form.png "웹 페이지 양식 편집")  

그러면 잠재 고객과 관련 된 모든 작업에 대 한 사용 권한을 부여 합니다. 엔터티 목록에 태스크를 표시 하는 경우에는 기본적으로 목록에 필터를 추가 하 여 잠재 고객과 관련 된 작업만 목록에 표시 됩니다. 이 예제에서는 엔터티 폼에 subgrid로 표시 됩니다.

![작업 예](../media/tasks-example.png "작업 예")  

## <a name="contact-scoped-permissions-for-tasks"></a>작업에 대 한 연락처 범위 권한

또 다른 예는 연락처가 해당 작업의 부모 리더와 관련 된 작업에 대 한 액세스를 허용 하려는 경우입니다. 이 시나리오는 위의 섹션과 거의 동일 합니다. 단,이 경우에는 부모 권한이 Global 대신 연락처 범위를 포함 합니다. 선행 엔터티와 Contact 엔터티 간의 부모 관계에 관계를 지정 해야 합니다.

이러한 권한이 적용 된 후에는 리드 관리자 역할의 사용자가 연락처 범위 권한에 지정 된 대로 직접 관련 된 잠재 고객에 액세스할 수 있으며 자식 권한 레코드에 지정 된 것과 동일한 잠재 고객과 관련 된 작업에 액세스할 수 있습니다.

### <a name="see-also"></a>참고 항목

[포털에 대 한 웹 역할 만들기](create-web-roles.md)  
[포털에 대 한 웹 페이지 액세스 제어](webpage-access-control.md)