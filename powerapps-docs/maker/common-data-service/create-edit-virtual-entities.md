---
title: 앱용 Common Data Service로 가상 엔터티 만들기 및 편집 | Microsoft Docs
description: 가상 엔터티 만드는 방법 알아보기
ms.custom: ''
ms.date: 06/27/2018
ms.reviewer: ''
ms.service: crm-online
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
ms.assetid: 44834893-0bf6-4a64-8f06-7583fe08330d
caps.latest.revision: 11
author: Mattp123
ms.author: matp
manager: kvivek
ms.openlocfilehash: 675c0ac5763698c82a7d13bfc75f8b7357d6cf0b
ms.sourcegitcommit: aba996b1773ecdf62758e06b34eaf57bede29e08
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/08/2018
ms.locfileid: "39691055"
---
# <a name="create-and-edit-virtual-entities-that-contain-data-from-an-external-data-source"></a>외부 데이터 원본의 데이터를 포함하는 가상 엔터티 만들기 및 편집

가상 엔터티는 외부 데이터 원본의 데이터를 포함하는 필드가 있는 앱용 Common Data Service의 사용자 지정 엔터티입니다. 가상 엔터티는 앱에서 사용자에게 일반 엔터티 레코드로 나타나지만, Azure SQL Database와 같은 외부 데이터베이스에서 제공되는 데이터를 포함합니다. 가상 엔터티에 기반한 레코드는 앱웹 서비스용 CDS를 사용하여 개발된 사용자 지정 클라이언트를 포함한 모든 클라이언트에서 사용 가능합니다.  
  
이전에는 별도의 서로 다른 데이터 원본을 통합하려면 데이터를 이동하거나, 클라이언트 또는 서버측이든 사용자 지정 플러그인을 개발하기 위해 커넥터를 만들어야 했습니다. 하지만, 가상 엔터티를 사용하면 런타임에서 외부 데이터 원본과 직접 연결할 수 있어 데이터 복제를 하지 않아도 외부 데이터 원본의 특정 데이터를 해당 환경에서 사용할 수 있습니다.  

가상 엔터티는 세 가지 주요 구성 요소(*데이터 공급자*, *데이터 원본* 레코드 및 *가상 엔터티*)로 구성되어 있으며, 데이터 공급자는 플러그인과 데이터 원본 엔터티로 이루어져 있습니다. 데이터 원본은 앱용 CDS의 엔터티 레코드로서, 연결 매개 변수의 스키마를 나타내는 메타데이터를 포함합니다. 각 가상 엔터티는 엔터티 정의에서 데이터 원본을 참조합니다.  
  
앱용 CDS에는 외부 데이터에 액세스하는 OData v4 웹 서비스와 연결하기 위해 사용할 수 있는 OData 데이터 공급자가 있습니다. 
  
또는 개발자가 데이터 공급자를 직접 구축할 수 있습니다. 데이터 공급자는 환경에 솔루션으로 설치됩니다. 자세한 정보: [개발자 설명서: 가상 엔터티 시작](/dynamics365/customer-engagement/developer/virtual-entities/get-started-ve)
  
 ![가상 엔터티 다이어그램](media/virtual-entity-diagram.png "가상 엔터티 다이어그램")  
  
<a name="benefits"></a> 
  
## <a name="virtual-entity-benefits"></a>가상 엔터티의 이점  
  
- 개발자는 플러그인을 구현하여 앱웹 서비스용 CDS 및 플러그인 등록 도구를 사용하는 외부 데이터를 읽을 수 있습니다.  
- 시스템 사용자 지정자는 PowerApps 솔루션 탐색기를 사용하여 데이터 원본 레코드를 구성하고, 코드를 작성하지 않고도 외부 데이터에 액세스하는 데 사용되는 가상 엔터티를 만듭니다.  
- 최종 사용자는 가상 엔터티에서 만든 레코드를 사용하여 필드, 그리드, 검색 결과는 물론, Fetch XML 기반 보고서 및 대시보드에서 데이터를 볼 수 있습니다.  
  
<a name="AddDataSource"></a> 
  
## <a name="add-a-data-source-to-use-for-virtual-entities"></a>가상 엔터티에 사용할 데이터 원본 추가 
 
 개발자는 사용자 지정 플러그인을 만들어 가상 엔터티에 사용할 데이터 공급자로 사용합니다. 또는 제공된 OData v4 데이터 공급자를 사용할 수도 있습니다. 자세한 정보: [OData v4 데이터 공급자 구성, 요구 사항 및 모범 사례](virtual-entity-odata-provider-requirements.md)  
  
1. **[설정](../model-driven-apps/advanced-navigation.md#settings)** > **관리** > **가상 엔터티 데이터 원본**으로 이동합니다.  
1. 작업 도구 모음에서 **새로 만들기**를 선택합니다.  
1. **데이터 공급자 선택** 대화 상자에서 다음 데이터 원본에서 선택한 후 **확인**을 선택합니다.
 
    |데이터 공급자|설명|
    |--|--|
    |*사용자 지정 데이터 공급자*|데이터 공급자 플러그인을 가져온 경우 데이터 공급자가 여기에 표시됩니다. 자세한 정보: [개발자 설명서: 가상 엔터티 시작](/dynamics365/customer-engagement/developer/virtual-entities/get-started-ve)|
    |**OData v4 데이터 공급자**|앱용 CDS에는 OData v4 웹 서비스를 통해 사용할 수 있는 OData 데이터 공급자가 포함되어 있습니다. 자세한 정보: [OData v4 데이터 공급자 구성, 요구 사항 및 모범 사례](virtual-entity-odata-provider-requirements.md)|

  
### <a name="add-a-secured-field-to-a-data-source"></a>데이터 원본에 보안 필드 추가

다른 엔터티와 같은 방식으로 데이터 원본에 대한 필드를 만듭니다. 암호화되어 있거나 중요한 데이터의 경우 데이터 원본의 사용자 필드에서 데이터 원본 비밀 특성을 사용하도록 설정하세요. 보안 필드를 포함하는 필드를 보호하는 경우를 예로 들 수 있습니다. 

> [!NOTE]
> 데이터 원본 비밀 특성은 데이터 원본 양식에 추가된 필드에서만 사용 가능합니다.

![데이터 원본 비밀 특성](media/datasourcesecret.png)
  
<a name="createVirtualEntity"></a> 
  
## <a name="create-a-virtual-entity"></a>가상 엔터티 만들기
  
여기에 설명된 몇 가지 추가 특성을 추가하여 앱용 CDS에 있는 다른 엔터티와 마찬가지로 가상 엔터티를 만듭니다. 가상 엔터티는 솔루션 탐색기를 사용하여 만들어야 합니다.

> [!NOTE]
>  데이터 원본으로 **없음**을 선택하여 가상 엔터티를 만들 수는 있지만, 데이터를 획득하려면 가상 엔터티에 데이터 원본이 필요합니다. 자세한 정보: [가상 엔터티에 사용할 데이터 원본 추가](#AddDataSource)

### <a name="open-solution-explorer"></a>솔루션 탐색기 열기

사용자가 만도는 모든 가상 엔터티의 이름 부분은 사용자 지정 접두사입니다. 이는 작업 중인 솔루션의 솔루션 게시자를 기반으로 설정됩니다. 사용자 지정 접두사에 관심이 있는 경우 이 가상 엔터티에 대해 원하는 사용자 지정 접두사가 있는 관리되지 않는 솔루션에서 작업하는지 확인해야 합니다. 자세한 정보: [솔루션 게시자 접두사 변경](change-solution-publisher-prefix.md) 

[!INCLUDE [cc_navigate-solution-from-powerapps-portal](../../includes/cc_navigate-solution-from-powerapps-portal.md)]

### <a name="create-a-virtual-entity"></a>가상 엔터티 만들기
  
1. 솔루션 탐색기에서 새 엔터티를 만듭니다. 이 작업을 수행하려면 왼쪽 탐색 창에서 **엔터티**를 선택하고, **새로 만들기**를 선택합니다.  
2. **엔터티 정의**의 **일반** 탭에서 **가상 엔터티**를 선택한 후 **데이터 원본** 드롭다운 목록에서 원하는 데이터 원본을 선택합니다.  
  
    ![엔터티 정의의 가상 엔터티 옵션](media/virtual-entity-click-option.png)  
  
1. 엔터티 정의에서 다음 필수 필드를 작성합니다.
  
    |필드|설명|
    |--|--|
    |**외부 이름**|이 엔터티가 매핑되는 외부 데이터 원본에 테이블 이름을 입력합니다.|
    |**외부 컬렉션 이름**|이 엔터티가 매핑되는 외부 데이터 원본에 테이블의 복수 이름을 입력합니다.|
      
    여기에서는 Azure Cosmos DB 데이터 공급자를 사용하여 문서 파일에 액세스하는 *Movie*라는 이름의 가상 엔터티를 예로 들었습니다.  
      
    ![Azure Cosmos DB 데이터 공급자를 사용하는 가상 엔터티 정의](media/virtual-entity-definition.PNG)  
      
    > [!IMPORTANT]
    > 액세스 팀, 큐 및 빠른 만들기 등의 몇 가지 옵션은 가상 엔터티에서 사용할 수 없습니다. 자세한 정보: [가상 엔터티 사용 시 고려 사항](#considerations)  
      
    필요에 따라 표시 및 복수 이름 등의 추가적인 필수 및 선택적 속성을 작성합니다. 이러한 속성에 대한 자세한 내용은 [엔터티 만들기 및 편집](create-edit-entities.md)을 참조하세요.  
  
1. 가상 엔터티에 사용할 수 있는 하나 이상의 필드를 만들고 추가합니다. 사용자 지정 필드를 만드는 데 필요한 표준 필드 속성 외에 이러한 선택적 속성은 가상 엔터티에 대해 만든 각 사용자 지정 필드에 사용할 수 있습니다.

    |필드|설명|
    |--|--|
    |**외부 이름**|일반적으로 필드에 표시하려는 데이터를 식별하는 고유 이름입니다.|
    |**외부 형식 이름**|사용자가 만드는 필드 형식이 OptionSet인 경우: 이 속성은 옵션 집합에 대한 외부 서비스에서 값 집합의 외부 이름으로 매핑됩니다.  일반적으로, 문자열 값 클래스의 열거형 또는 문자열이 될 수 있습니다. 외부 형식 이름은 정규화된 이름이 필요한 경우 사용할 수 있습니다.  예를 들어 OData가 포함된 *형식 이름*으로, 쿼리의 매개 변수는 [*Type Name*].[*Value*]와 같은 정규화된 이름이 필요합니다.|
    |**외부 값**|사용자가 만드는 필드 형식이 OptionSet인 경우: 이 속성은 옵션 집합 항목에 대한 외부 데이터 원본에서 해당 값에 매핑됩니다.  입력한 값은 앱에 표시할 옵션 집합 항목을 결정하는 데 사용됩니다.  |

    필요에 따라 추가 속성을 작성합니다. 이러한 속성에 대한 자세한 내용은 [필드 만들기 및 편집](create-edit-fields.md)을 참조하세요.  
  
1. **필드** 속성 페이지에서 **저장 후 닫기**를 선택합니다.  
1. 솔루션 탐색기 도구 모음에서 선택 **저장**을 선택합니다.  
1. 솔루션 탐색기 도구 모음에서 선택 **게시**를 선택합니다.  
1. 솔루션 탐색기를 닫습니다.  

<a name="considerations"></a>
   
## <a name="considerations-when-you-use-virtual-entities"></a>가상 엔터티 사용 시 고려 사항  

가상 엔터티에는 다음과 같은 제한 사항이 있습니다.  
  
- 모든 가상 엔터티는 읽기 전용입니다.  
- 기본 엔터티는 가상 엔터티로 변환할 수 없습니다.  
- 기본적으로 가상 엔터티는 이름 및 ID 필드만 포함합니다.  상태 또는 만든 날짜/수정 날짜 등의 기타 시스템 관리 필드는 지원되지 않습니다.
- 가상 엔터티는 통화, 이미지 또는 고객 데이터 형식이 있는 사용자 지정 필드를 지원하지 않습니다.
- 가상 엔터티는 감사를 지원하지 않습니다.  
- 가상 엔터티 필드는 롤업 또는 계산된 필드에서 사용할 수 없습니다.
- 가상 엔터티는 엔터티의 작업 유형일 수 없습니다.  
- 테이블 행에 영향을 주는 많은 기능을 가상 엔터티에서는 사용 설정할 수 없습니다.  큐, 지식 관리, SLA, 중복 탐지, 변경 추적, 모바일 오프라인 기능, 필드 보안, 관련성 검색, Dynamics 365용 포털 웹 포털 솔루션, 가상 엔터티 간 N:N 관계 등을 예로 들 수 있습니다.  
- 가상 엔터티는 조직 소유이며 행 수준의 앱용 Common Data Service 보안 개념을 지원하지 않습니다. 외부 데이터 원본용 자체 보안 모델을 구현하는 것이 좋습니다.  
- 고급 검색에서 가상 엔터티를 사용할 경우 단일 데이터 원본을 타게팅하는 것이 좋습니다. 예를 들어 궁극적으로 앱용 Common Data Service 네이티브 데이터와 가상 엔터티 외부 데이터 간 조인을 만드는 고급 검색 만들기는 지원되지 않습니다.  
- 업데이트 시 유효성을 검증하는 필드 메타데이터 속성은 가상 엔터티에는 해당되지 않습니다. 예를 들어 가상 엔터티 필드의 정수 필드는 최솟값 0으로 설정할 수 있습니다. 그러나 값의 출처가 외부 데이터 원본이므로 쿼리를 수행하면 가상 엔터티에서 가져올 때 0 미만의 값을 반환합니다.  최솟값 속성은 쿼리에서 암시되지 않습니다.  따라서 원하는 경우 값을 0보다 큰 값으로 필터링해야 합니다.
- 가상 엔터티는 변경 추적을 지원하지 않으며 데이터 내보내기 서비스 등의 앱용 CDS 기능을 사용하여 동기화할 수 없습니다.
  
### <a name="see-also"></a>참고 항목  

[OData v4 데이터 공급자 요구 사항 및 모범 사례](virtual-entity-odata-provider-requirements.md)</br> 
[엔터티 만들기 및 편집](create-edit-entities.md)</br>
[필드 만들기 및 편집](create-edit-fields.md)
